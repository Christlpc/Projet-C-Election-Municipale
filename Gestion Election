#ifndef POINT_H_INCLUDED
#define POINT_H_INCLUDED
#include <stdio.h>

typedef struct
{
	int jour,mois,annee;
}Date;


typedef struct
{
	char localit√© [20];
	struct Date;
	int population,Nombre de conseiller;
} Election;

int ajouter(char *, point );
int modifier( char *, int, point );
int supprimer(char *, int );
int chercher(char *, int);

#endif 




#include "point.h"

int ajouter(char * filename, Election E )
{
 
    	File * f=fopen(filename,"w");
        fprintf("%s %d %d %d%d%d\n",p.localite,p.jour,p.mois,p.annee,p.population,p.Nombre_conseillers);
        fclose(f);
      
   
}
int modifier( char * filename, int id, Election nouv )
{
    int tr=0;
    Election E;
    FILE * f=fopen(filename, "r");
    FILE * f2=fopen("nouv.txt", "w");
    if(f!=NULL && f2!=NULL)
    {
        while(fscanf(f,"%s %d %d %d %d %d")!=EOF)
        {
            if(p.id== id)
            {
            0    fprintf(f2,"%s %d %d %d %d \n",nouv.localite,nouv.Date,nouv.population,nouv.Nombre_conseillers);
                tr=1;
            }
            else
                fprintf(f2,"%s %d %d %d\n",p.localite,p.Date,p.population,p.Nombre_conseillers);

        }
    }
    fclose(f);
    fclose(f2);
    remove(filename);
    rename("nouv.txt", filename);
    return tr;

}
int supprimer(char * filename, int id)
{
    int tr=0;
    Election E;
    FILE * f=fopen(filename, "r");
    FILE * f2=fopen("nouv.txt", "w");
    if(f!=NULL && f2!=NULL)
    {
        while(fscanf(f,"%d %s %d %d %d %d\n",&p.id,p.localite,&p.Date,&p.population,&p.Nombre_conseillers)!=EOF)
        {
            if(p.id== id)
                tr=1;
            else
                fprintf(f2,"%s %d %d %d\n",p.population,p.Date,p.population,p.Nombre_conseillers);
        }
    }
    fclose(f);
    fclose(f2);
    remove(filename);
    rename("nouv.txt", filename);
    return tr;
}
point chercher(char * filename, int id)
{
    Election;
    int tr;
    FILE * f=fopen(filename, "r");
    if(f!=NULL)
    {
        while(tr==0&& fscanf(f,"%s %d %d %d\n",p.population,&p.Date,&p.population,&p.Nombre_conseillers)!=EOF)
        {
            if(p.id== id)
                tr=1;
        }
    }
    fclose(f);
    if(tr==0)
        p.id=-1;
    return p;

}







#include <stdio.h>
#include <string.h>
#include"point.h"

int main()
{
    Election E1;
    int x;

    	E1=ajouter("Election.txt", E1);
   	E1=modifier("Election.txt",E1 );
	E1=supprimer("point.txt",E1 );
	E1=chercher("Election.txt",E1 );
   
    return 0;
}
